{% extends "layout.html" %}

{% block title %}PiPlug - Devices{% endblock %}

{% block content %}
<h2>Devices</h2>
<table class="table">
    <tbody>
        {% for plug in plugs %}
        <tr class="align-middle">
            <td class="text-center">
                <a href="/device/{{ plug[0] }}" class="btn btn-light">{{ plug[0] }}</a>
            </td>
            <td class="text-center">
                <a href="/device/{{ plug[0] }}" class="btn btn-light">{{ plug[1] }}</a>
            </td>
            <td class="text-center">
                <a href="/toggle_device/{{ plug[0] }}" class="btn btn-secondary">
                    {% if plug[2] %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-lightbulb-fill" viewBox="0 0 16 16">
                            <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m3 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1-.5-.5"/>
                        </svg>
                    {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-lightbulb" viewBox="0 0 16 16">
                            <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1"/>
                        </svg>
                    {% endif %}
                </a>
            </td>
            <td class="text-center">
                <a href="/schedules/{{ plug[0] }}" class="btn {{ 'btn-success' if plug_schedules[plug[0]] else 'btn-primary' }}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
                    </svg>
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<style>
    td:nth-child(1) a,
    td:nth-child(2) a {
        display: block;
        width: 100%;
        height: 100%;
        text-align: center;
        padding: 10px;
    }
</style>
{% endblock %}
